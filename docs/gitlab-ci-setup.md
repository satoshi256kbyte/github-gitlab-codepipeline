# GitLab CI/CD „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó„Ç¨„Ç§„Éâ

„Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„ÅØ„ÄÅGitLab CI/CD„ÅßCI/CD„Éë„Ç§„Éó„É©„Ç§„É≥„ÇíË®≠ÂÆö„Åô„ÇãÊâãÈ†Ü„ÇíË™¨Êòé„Åó„Åæ„Åô„ÄÇ

## üìã ÁõÆÊ¨°

- [Ê¶ÇË¶Å](#Ê¶ÇË¶Å)
- [ÂâçÊèêÊù°‰ª∂](#ÂâçÊèêÊù°‰ª∂)
- [„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö](#„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö)
- [Â§âÊï∞„Å®„Ç∑„Éº„ÇØ„É¨„ÉÉ„ÉàÁÆ°ÁêÜ](#Â§âÊï∞„Å®„Ç∑„Éº„ÇØ„É¨„ÉÉ„ÉàÁÆ°ÁêÜ)
- [„Éë„Ç§„Éó„É©„Ç§„É≥Ë®≠ÂÆö](#„Éë„Ç§„Éó„É©„Ç§„É≥Ë®≠ÂÆö)
- [„É≠„Éº„Ç´„É´„ÉÜ„Çπ„Éà](#„É≠„Éº„Ç´„É´„ÉÜ„Çπ„Éà)
- [„Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞](#„Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞)

## üéØ Ê¶ÇË¶Å

GitLab CI/CD„Éë„Ç§„Éó„É©„Ç§„É≥„ÅØ‰ª•‰∏ã„ÅÆÁâπÂæ¥„ÇíÊåÅ„Å°„Åæ„ÅôÔºö

- **Áµ±ÂêàÈñãÁô∫Áí∞Â¢É**: GitLab„ÅÆÂÖ®Ê©üËÉΩ„Å®„ÅÆÈÄ£Êê∫
- **ÊüîËªü„Å™Runner**: ÂÖ±ÊúâRunner„ÄÅÂ∞ÇÁî®Runner„ÄÅKubernetes Runner
- **È´òÂ∫¶„Å™„Ç≠„É£„ÉÉ„Ç∑„É•**: ÂàÜÊï£„Ç≠„É£„ÉÉ„Ç∑„É•„Å®„Ç¢„Éº„ÉÜ„Ç£„Éï„Ç°„ÇØ„ÉàÁÆ°ÁêÜ
- **„Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥**: ÁµÑ„ÅøËæº„Åø„ÅÆ„Çª„Ç≠„É•„É™„ÉÜ„Ç£Ê©üËÉΩ

## üìã ÂâçÊèêÊù°‰ª∂

### ÂøÖË¶Å„Å™„ÉÑ„Éº„É´

- GitLab „Ç¢„Ç´„Ç¶„É≥„ÉàÔºàGitLab.com „Åæ„Åü„ÅØËá™Á§æ„Ç§„É≥„Çπ„Çø„É≥„ÇπÔºâ
- AWS „Ç¢„Ç´„Ç¶„É≥„Éà
- AWS CLI v2
- DockerÔºà„É≠„Éº„Ç´„É´„ÉÜ„Çπ„ÉàÁî®Ôºâ

### GitLab„Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö

1. **„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÅÆ‰ΩúÊàê**

   ```bash
   # GitLab„Åß„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàêÂæå
   git clone https://gitlab.com/your-username/your-project.git
   cd your-project
   ```

2. **„Éñ„É©„É≥„ÉÅ‰øùË≠∑„ÅÆË®≠ÂÆö**
   - Settings > Repository > Push Rules
   - `main`„Éñ„É©„É≥„ÉÅ„ÅÆ‰øùË≠∑„É´„Éº„É´„ÇíË®≠ÂÆö
   - "Allowed to push"„Å®"Allowed to merge"„ÇíÂà∂Èôê

## ‚öôÔ∏è „Éó„É≠„Ç∏„Çß„ÇØ„ÉàË®≠ÂÆö

### CI/CDË®≠ÂÆö„ÅÆÊúâÂäπÂåñ

1. **Settings > General > Visibility, project features, permissions**
2. **CI/CD**„ÇíÊúâÂäπÂåñ
3. **Container Registry**„ÇíÊúâÂäπÂåñÔºàDocker„Ç§„É°„Éº„Ç∏Áî®Ôºâ

### RunnerË®≠ÂÆö

#### ÂÖ±ÊúâRunner„ÅÆ‰ΩøÁî®

1. **Settings > CI/CD > Runners**
2. **Enable shared runners for this project**„ÇíÊúâÂäπÂåñ

#### Â∞ÇÁî®Runner„ÅÆË®≠ÂÆö

```bash
# GitLab Runner„ÅÆ„Ç§„É≥„Çπ„Éà„Éº„É´
curl -L "https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh" | sudo bash
sudo yum install gitlab-runner

# Runner„ÅÆÁôªÈå≤
sudo gitlab-runner register \
  --url "https://gitlab.com/" \
  --registration-token "YOUR_REGISTRATION_TOKEN" \
  --description "My Runner" \
  --tag-list "docker,aws" \
  --executor "docker" \
  --docker-image "alpine:latest"
```

## üîí Â§âÊï∞„Å®„Ç∑„Éº„ÇØ„É¨„ÉÉ„ÉàÁÆ°ÁêÜ

### „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÂ§âÊï∞„ÅÆË®≠ÂÆö

Settings > CI/CD > Variables „Åß‰ª•‰∏ã„ÇíË®≠ÂÆöÔºö

#### AWSË™çË®ºÊÉÖÂ†±

| Â§âÊï∞Âêç | ÂÄ§ | ‰øùË≠∑ | „Éû„Çπ„ÇØ | Ë™¨Êòé |
|--------|---|------|------|------|
| `AWS_ACCESS_KEY_ID` | `AKIA...` | ‚úÖ | ‚úÖ | AWS„Ç¢„ÇØ„Çª„Çπ„Ç≠„ÉºID |
| `AWS_SECRET_ACCESS_KEY` | `...` | ‚úÖ | ‚úÖ | AWS„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà„Ç¢„ÇØ„Çª„Çπ„Ç≠„Éº |
| `AWS_DEFAULT_REGION` | `ap-northeast-1` | ‚ùå | ‚ùå | AWS„É™„Éº„Ç∏„Éß„É≥ |
| `AWS_ACCOUNT_ID` | `123456789012` | ‚ùå | ‚ùå | AWS„Ç¢„Ç´„Ç¶„É≥„ÉàID |

#### „Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Ë®≠ÂÆö

| Â§âÊï∞Âêç | ÂÄ§ | ‰øùË≠∑ | „Éû„Çπ„ÇØ | Ë™¨Êòé |
|--------|---|------|------|------|
| `ECR_REPOSITORY` | `cicd-comparison-api` | ‚ùå | ‚ùå | ECR„É™„Éù„Ç∏„Éà„É™Âêç |
| `ECS_CLUSTER` | `cicd-comparison-cluster` | ‚ùå | ‚ùå | ECS„ÇØ„É©„Çπ„Çø„ÉºÂêç |
| `ECS_SERVICE` | `cicd-comparison-service` | ‚ùå | ‚ùå | ECS„Çµ„Éº„Éì„ÇπÂêç |
| `CODEDEPLOY_APPLICATION` | `cicd-comparison-app` | ‚ùå | ‚ùå | CodeDeploy„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥Âêç |

### Áí∞Â¢ÉÂà•Â§âÊï∞

#### ProductionÁí∞Â¢É

Settings > CI/CD > Variables „ÅßÁí∞Â¢É„Çπ„Ç≥„Éº„Éó„Çí`production`„Å´Ë®≠ÂÆöÔºö

| Â§âÊï∞Âêç | ÂÄ§ | Áí∞Â¢É |
|--------|---|------|
| `AWS_ACCESS_KEY_ID` | `AKIA...` | `production` |
| `ECS_CLUSTER` | `cicd-comparison-prod-cluster` | `production` |

#### StagingÁí∞Â¢É

Áí∞Â¢É„Çπ„Ç≥„Éº„Éó„Çí`staging`„Å´Ë®≠ÂÆöÔºö

| Â§âÊï∞Âêç | ÂÄ§ | Áí∞Â¢É |
|--------|---|------|
| `AWS_ACCESS_KEY_ID` | `AKIA...` | `staging` |
| `ECS_CLUSTER` | `cicd-comparison-stg-cluster` | `staging` |

## üîÑ „Éë„Ç§„Éó„É©„Ç§„É≥Ë®≠ÂÆö

### „É°„Ç§„É≥„Éë„Ç§„Éó„É©„Ç§„É≥

`.gitlab-ci.yml`„Çí‰ΩúÊàêÔºö

```yaml
# GitLab CI/CDË®≠ÂÆö
image: python:3.13

# „Çπ„ÉÜ„Éº„Ç∏ÂÆöÁæ©
stages:
  - cache
  - check
  - deploy

# Â§âÊï∞ÂÆöÁæ©
variables:
  PIP_CACHE_DIR: "$CI_PROJECT_DIR/.cache/pip"
  UV_CACHE_DIR: "$CI_PROJECT_DIR/.cache/uv"
  DOCKER_DRIVER: overlay2
  DOCKER_TLS_CERTDIR: "/certs"

# „Ç≠„É£„ÉÉ„Ç∑„É•Ë®≠ÂÆö
cache:
  key: 
    files:
      - uv.lock
      - .tool-versions
  paths:
    - .cache/pip/
    - .cache/uv/
    - .venv/

# ÂÖ±ÈÄö„Çπ„ÇØ„É™„Éó„Éà
.install_dependencies: &install_dependencies
  - curl -LsSf https://astral.sh/uv/install.sh | sh
  - export PATH="$HOME/.cargo/bin:$PATH"
  - uv sync --dev

.aws_setup: &aws_setup
  - pip install awscli
  - aws configure set aws_access_key_id $AWS_ACCESS_KEY_ID
  - aws configure set aws_secret_access_key $AWS_SECRET_ACCESS_KEY
  - aws configure set default.region $AWS_DEFAULT_REGION

# „Ç≠„É£„ÉÉ„Ç∑„É•‰ΩúÊàê„Ç∏„Éß„Éñ
create_cache:
  stage: cache
  script:
    - *install_dependencies
    - echo "Dependencies cached"
  artifacts:
    paths:
      - .venv/
    expire_in: 1 hour

# „ÉÅ„Çß„ÉÉ„ÇØÂ∑•Á®ãÔºà‰∏¶ÂàóÂÆüË°åÔºâ
lint:
  stage: check
  needs: ["create_cache"]
  script:
    - *install_dependencies
    - uv run ruff check .
    - uv run black --check .
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH == "main"
    - if: $CI_COMMIT_BRANCH == "develop"

test:
  stage: check
  needs: ["create_cache"]
  script:
    - *install_dependencies
    - uv run pytest --cov=modules/api --cov-report=xml --cov-report=term
  coverage: '/TOTAL.*\s+(\d+%)$/'
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage.xml
    paths:
      - htmlcov/
    expire_in: 1 week
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH == "main"
    - if: $CI_COMMIT_BRANCH == "develop"

# SCA„ÉÅ„Çß„ÉÉ„ÇØÔºàGitLab Dependency Scanning + CodeGuru SecurityÔºâ
sca_gitlab:
  stage: check
  needs: ["create_cache"]
  image: registry.gitlab.com/security-products/dependency-scanning:latest
  script:
    - /analyzer run
  artifacts:
    reports:
      dependency_scanning: gl-dependency-scanning-report.json
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH == "main"

sca_codeguru:
  stage: check
  needs: ["create_cache"]
  image: amazon/aws-cli:latest
  before_script:
    - *aws_setup
    - yum update -y && yum install -y zip jq curl
  script:
    - ./scripts/run-codeguru-security.sh "gitlab-sca-$CI_PIPELINE_ID" "." "$AWS_DEFAULT_REGION"
  artifacts:
    reports:
      sast: gitlab-sca-$CI_PIPELINE_ID.json
    expire_in: 1 week
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

# SAST„ÉÅ„Çß„ÉÉ„ÇØÔºàGitLab SAST + Amazon InspectorÔºâ
sast_gitlab:
  stage: check
  needs: ["create_cache"]
  image: registry.gitlab.com/security-products/sast:latest
  script:
    - /analyzer run
  artifacts:
    reports:
      sast: gl-sast-report.json
  rules:
    - if: $CI_PIPELINE_SOURCE == "merge_request_event"
    - if: $CI_COMMIT_BRANCH == "main"

sast_inspector:
  stage: check
  needs: ["create_cache"]
  image: amazon/aws-cli:latest
  before_script:
    - *aws_setup
    - yum update -y && yum install -y zip jq
  script:
    - zip -r source-code.zip . -x "*.git*" ".cache/*" ".venv/*"
    - ./scripts/run-inspector-scan.sh "gitlab-sast-$CI_PIPELINE_ID" "source-code.zip" "$AWS_DEFAULT_REGION"
  artifacts:
    reports:
      sast: gitlab-sast-$CI_PIPELINE_ID.json
    expire_in: 1 week
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

# „Éá„Éó„É≠„Ç§Â∑•Á®ãÔºà‰∏¶ÂàóÂÆüË°åÔºâ
deploy_lambda:
  stage: deploy
  image: amazon/aws-cli:latest
  needs: ["lint", "test", "sca_gitlab", "sast_gitlab"]
  environment:
    name: production/lambda
    url: https://$LAMBDA_API_ID.execute-api.$AWS_DEFAULT_REGION.amazonaws.com/prod
  before_script:
    - *aws_setup
    - yum update -y && yum install -y python3 python3-pip
    - pip3 install aws-sam-cli
  script:
    - sam build
    - sam deploy --no-confirm-changeset --no-fail-on-empty-changeset --stack-name cicd-comparison-lambda
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

deploy_ecs:
  stage: deploy
  image: docker:latest
  services:
    - docker:dind
  needs: ["lint", "test", "sca_gitlab", "sast_gitlab"]
  environment:
    name: production/ecs
    url: https://$ECS_ALB_DNS
  before_script:
    - apk add --no-cache python3 py3-pip
    - pip3 install awscli
    - *aws_setup
    - aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com
  script:
    - docker build -t $ECR_REPOSITORY .
    - docker tag $ECR_REPOSITORY:latest $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/$ECR_REPOSITORY:$CI_COMMIT_SHA
    - docker push $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com/$ECR_REPOSITORY:$CI_COMMIT_SHA
    - ./scripts/deploy-ecs-blue-green.sh $CI_COMMIT_SHA
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

deploy_ec2:
  stage: deploy
  image: amazon/aws-cli:latest
  needs: ["lint", "test", "sca_gitlab", "sast_gitlab"]
  environment:
    name: production/ec2
    url: https://$EC2_ALB_DNS
  before_script:
    - *aws_setup
    - yum update -y && yum install -y zip
  script:
    - zip -r deployment.zip . -x "*.git*" ".cache/*" ".venv/*" "*.zip"
    - aws s3 cp deployment.zip s3://$DEPLOYMENT_BUCKET/deployments/$CI_COMMIT_SHA.zip
    - ./scripts/deploy_ec2-codedeploy.sh $CI_COMMIT_SHA
  rules:
    - if: $CI_COMMIT_BRANCH == "main"

# „Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞Áí∞Â¢É„Éá„Éó„É≠„Ç§
deploy_staging:
  stage: deploy
  extends: .deploy_template
  environment:
    name: staging
  variables:
    STAGE: staging
  script:
    - export STAGE=staging
    - ./scripts/deploy-all.sh
  rules:
    - if: $CI_COMMIT_BRANCH == "develop"

# „Éû„Éã„É•„Ç¢„É´„Éá„Éó„É≠„Ç§
deploy_manual:
  stage: deploy
  extends: deploy_lambda
  when: manual
  environment:
    name: manual
  rules:
    - if: $CI_PIPELINE_SOURCE == "web"
```

### Áí∞Â¢ÉÂà•Ë®≠ÂÆö

#### „Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞Áí∞Â¢ÉÁî®„Éë„Ç§„Éó„É©„Ç§„É≥

`.gitlab-ci-staging.yml`„Çí‰ΩúÊàê„Åó„ÄÅ„É°„Ç§„É≥„Éë„Ç§„Éó„É©„Ç§„É≥„ÅßincludeÔºö

```yaml
# „Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞Áí∞Â¢ÉÂ∞ÇÁî®Ë®≠ÂÆö
include:
  - local: '.gitlab-ci-staging.yml'

# „Çπ„ÉÜ„Éº„Ç∏„É≥„Ç∞Áí∞Â¢É„ÅÆ„Ç∏„Éß„Éñ
staging_deploy:
  extends: .deploy_template
  environment:
    name: staging
  variables:
    AWS_ACCESS_KEY_ID: $AWS_ACCESS_KEY_ID_STAGING
    AWS_SECRET_ACCESS_KEY: $AWS_SECRET_ACCESS_KEY_STAGING
  rules:
    - if: $CI_COMMIT_BRANCH == "develop"
```

### „Çª„Ç≠„É•„É™„ÉÜ„Ç£„Çπ„Ç≠„É£„É≥Ë®≠ÂÆö

#### Dependency Scanning

`.gitlab-ci.yml`„Å´ËøΩÂä†Ôºö

```yaml
include:
  - template: Security/Dependency-Scanning.gitlab-ci.yml
  - template: Security/SAST.gitlab-ci.yml
  - template: Security/Secret-Detection.gitlab-ci.yml

# „Ç´„Çπ„Çø„É†Dependency Scanning
dependency_scanning:
  variables:
    DS_PYTHON_VERSION: "3.13"
    DS_PIP_DEPENDENCY_PATH: "requirements.txt"
```

#### SASTË®≠ÂÆö

```yaml
sast:
  variables:
    SAST_PYTHON_VERSION: "3.13"
    SAST_EXCLUDED_PATHS: "tests/, .venv/, .cache/"
```

## üß™ „É≠„Éº„Ç´„É´„ÉÜ„Çπ„Éà

### GitLab Runner„ÅÆ„É≠„Éº„Ç´„É´„Ç§„É≥„Çπ„Éà„Éº„É´

#### macOS

```bash
# Homebrew„Åß„Ç§„É≥„Çπ„Éà„Éº„É´
brew install gitlab-runner

# ÊâãÂãï„Ç§„É≥„Çπ„Éà„Éº„É´
sudo curl --output /usr/local/bin/gitlab-runner "https://gitlab-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-runner-darwin-amd64"
sudo chmod +x /usr/local/bin/gitlab-runner
```

#### Linux

```bash
# Debian/Ubuntu
curl -L "https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh" | sudo bash
sudo apt-get install gitlab-runner

# CentOS/RHEL
curl -L "https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.rpm.sh" | sudo bash
sudo yum install gitlab-runner
```

### „É≠„Éº„Ç´„É´ÂÆüË°åË®≠ÂÆö

#### Ë®≠ÂÆö„Éï„Ç°„Ç§„É´

`.gitlab-runner/config.toml`„Çí‰ΩúÊàêÔºö

```toml
concurrent = 1
check_interval = 0

[session_server]
  session_timeout = 1800

[[runners]]
  name = "local-docker-runner"
  url = "https://gitlab.com/"
  token = "your-runner-token"
  executor = "docker"
  [runners.custom_build_dir]
  [runners.cache]
    [runners.cache.s3]
    [runners.cache.gcs]
    [runners.cache.azure]
  [runners.docker]
    tls_verify = false
    image = "python:3.13"
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/cache", "/var/run/docker.sock:/var/run/docker.sock"]
    shm_size = 0
```

### „É≠„Éº„Ç´„É´ÂÆüË°å

```bash
# ÁâπÂÆö„ÅÆ„Ç∏„Éß„Éñ„ÅÆÂÆüË°å
gitlab-runner exec docker test

# Áí∞Â¢ÉÂ§âÊï∞„ÇíÊåáÂÆö„Åó„Å¶ÂÆüË°å
gitlab-runner exec docker --env AWS_DEFAULT_REGION=ap-northeast-1 test

# Ë®≠ÂÆö„Éï„Ç°„Ç§„É´„ÇíÊåáÂÆö„Åó„Å¶ÂÆüË°å
gitlab-runner --config .gitlab-runner/config.toml exec docker test

# „Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ
gitlab-runner --debug exec docker test
```

### Docker Compose„Åß„ÅÆÂÆüË°å

`docker-compose.yml`„Çí‰ΩúÊàêÔºö

```yaml
version: '3.8'

services:
  gitlab-runner:
    image: gitlab/gitlab-runner:latest
    volumes:
      - .gitlab-runner:/etc/gitlab-runner
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - DOCKER_HOST=unix:///var/run/docker.sock
    command: ["gitlab-runner", "exec", "docker", "test"]
```

ÂÆüË°åÔºö

```bash
docker-compose run gitlab-runner
```

## üîß „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞

### „Çà„Åè„ÅÇ„ÇãÂïèÈ°å

#### 1. RunnerÊé•Á∂ö„Ç®„É©„Éº

**„Ç®„É©„Éº**: `ERROR: Registering runner... failed`

**Ëß£Ê±∫Á≠ñ**:

```bash
# Runner„Éà„Éº„ÇØ„É≥„ÅÆÁ¢∫Ë™ç
# Settings > CI/CD > Runners > Registration token

# „Éç„ÉÉ„Éà„ÉØ„Éº„ÇØÊé•Á∂ö„ÅÆÁ¢∫Ë™ç
curl -I https://gitlab.com/

# Runner„ÅÆÂÜçÁôªÈå≤
sudo gitlab-runner unregister --all-runners
sudo gitlab-runner register
```

#### 2. DockerÊ®©Èôê„Ç®„É©„Éº

**„Ç®„É©„Éº**: `permission denied while trying to connect to the Docker daemon socket`

**Ëß£Ê±∫Á≠ñ**:

```bash
# „É¶„Éº„Ç∂„Éº„Çídocker„Ç∞„É´„Éº„Éó„Å´ËøΩÂä†
sudo usermod -aG docker gitlab-runner
sudo systemctl restart gitlab-runner

# „Åæ„Åü„ÅØÁâπÊ®©„É¢„Éº„Éâ„ÇíÊúâÂäπÂåñ
# config.toml„Åßprivileged = true
```

#### 3. „Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆÂïèÈ°å

**„Ç®„É©„Éº**: `Cache not found`

**Ëß£Ê±∫Á≠ñ**:

```yaml
# „Ç≠„É£„ÉÉ„Ç∑„É•„Éù„É™„Ç∑„Éº„ÅÆË™øÊï¥
cache:
  key: "$CI_COMMIT_REF_SLUG"
  policy: pull-push
  paths:
    - .cache/
```

#### 4. Áí∞Â¢ÉÂ§âÊï∞„ÅåË™çË≠ò„Åï„Çå„Å™„ÅÑ

**Ëß£Ê±∫Á≠ñ**:

```bash
# Â§âÊï∞„ÅÆÁ¢∫Ë™ç
echo $AWS_ACCESS_KEY_ID

# GitLab UI„ÅßÂ§âÊï∞„ÅÆË®≠ÂÆö„ÇíÁ¢∫Ë™ç
# Settings > CI/CD > Variables

# Â§âÊï∞„ÅÆ„Çπ„Ç≥„Éº„Éó„ÇíÁ¢∫Ë™çÔºàÁí∞Â¢É„ÄÅ„Éñ„É©„É≥„ÉÅÔºâ
```

### „Éá„Éê„ÉÉ„Ç∞ÊñπÊ≥ï

#### 1. „Ç∏„Éß„Éñ„É≠„Ç∞„ÅÆË©≥Á¥∞Âåñ

```yaml
variables:
  CI_DEBUG_TRACE: "true"  # Ë©≥Á¥∞„É≠„Ç∞„ÇíÊúâÂäπÂåñ

script:
  - set -x  # „Ç∑„Çß„É´„ÅÆ„Éá„Éê„ÉÉ„Ç∞„É¢„Éº„Éâ
  - echo "Debug info: $CI_JOB_NAME"
```

#### 2. „Ç¢„Éº„ÉÜ„Ç£„Éï„Ç°„ÇØ„Éà„Åß„ÅÆ„Éá„Éê„ÉÉ„Ç∞

```yaml
artifacts:
  when: always
  paths:
    - logs/
    - debug/
  expire_in: 1 day
```

#### 3. Â§±ÊïóÊôÇ„ÅÆË™øÊüª

```yaml
after_script:
  - echo "Job status: $CI_JOB_STATUS"
  - if [ "$CI_JOB_STATUS" == "failed" ]; then
      echo "Collecting debug information...";
      env > debug_env.txt;
    fi
```

### „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊúÄÈÅ©Âåñ

#### 1. ‰∏¶ÂàóÂÆüË°å„ÅÆÊúÄÈÅ©Âåñ

```yaml
test:
  parallel:
    matrix:
      - PYTHON_VERSION: ["3.11", "3.12", "3.13"]
```

#### 2. „Ç≠„É£„ÉÉ„Ç∑„É•„ÅÆÊúÄÈÅ©Âåñ

```yaml
cache:
  key:
    files:
      - uv.lock
      - requirements.txt
  paths:
    - .cache/pip/
    - .cache/uv/
    - .venv/
  policy: pull-push
```

#### 3. Êù°‰ª∂‰ªò„ÅçÂÆüË°å

```yaml
rules:
  - if: $CI_COMMIT_MESSAGE =~ /\[skip ci\]/
    when: never
  - if: $CI_PIPELINE_SOURCE == "merge_request_event"
  - if: $CI_COMMIT_BRANCH == "main"
```

## üìä Áõ£Ë¶ñ„Å®„É¨„Éù„Éº„Éà

### „Éë„Ç§„Éó„É©„Ç§„É≥Áõ£Ë¶ñ

1. **CI/CD > Pipelines**„Åß„Éë„Ç§„Éó„É©„Ç§„É≥Áä∂Ê≥Å„ÇíÁ¢∫Ë™ç
2. **CI/CD > Jobs**„ÅßÂÄãÂà•„Ç∏„Éß„Éñ„ÅÆË©≥Á¥∞„ÇíÁ¢∫Ë™ç
3. **Monitor > CI/CD Analytics**„Åß„Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÂàÜÊûê

### „Çª„Ç≠„É•„É™„ÉÜ„Ç£„É¨„Éù„Éº„Éà

1. **Security & Compliance > Security Dashboard**
2. **Security & Compliance > Vulnerability Report**
3. **Security & Compliance > Dependency List**

### „Ç´„Éê„É¨„ÉÉ„Ç∏„É¨„Éù„Éº„Éà

```yaml
test:
  coverage: '/TOTAL.*\s+(\d+%)$/'
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage.xml
```

## üìö ÂèÇËÄÉË≥áÊñô

- [GitLab CI/CD Documentation](https://docs.gitlab.com/ee/ci/)
- [GitLab Runner Documentation](https://docs.gitlab.com/runner/)
- [GitLab Security Scanning](https://docs.gitlab.com/ee/user/application_security/)
- [GitLab CI/CD Variables](https://docs.gitlab.com/ee/ci/variables/)
